<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEBTOON Tracer - Application Compl√®te</title>
    <style>
        :root {
            --primary: #ec4899;
            --primary-hover: #db2777;
            --secondary: #06b6d4;
            --background: linear-gradient(135deg, #fce7f3 0%, #e0f2fe 100%);
            --card-bg: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
        }

        [data-theme="dark"] {
            --background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --card-bg: #1f2937;
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --border: #374151;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Page de connexion */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--background);
        }

        .login-card {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-card h1 {
            color: var(--primary);
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .btn-primary {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            width: 100%;
            padding: 12px;
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }

        .btn-link {
            background: none;
            border: none;
            color: var(--primary);
            text-decoration: underline;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-link:hover {
            color: var(--primary-hover);
        }

        /* Dashboard */
        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
        }

        .header {
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
        }

        .nav-tab {
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .nav-tab:hover {
            background: var(--border);
            color: var(--text-primary);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .btn-logout {
            padding: 8px 16px;
            background: var(--error);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .btn-logout:hover {
            background: #dc2626;
        }

        /* Contenu principal */
        .tab-content {
            display: none;
        }

        .tab-content:not(.hidden) {
            display: block;
        }

        .search-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .search-container {
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid var(--border);
            border-radius: 15px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .clear-search {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
        }

        .search-results {
            margin-top: 15px;
            color: var(--text-secondary);
            text-align: center;
        }

        .webtoons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .webtoon-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
            position: relative;
        }

        .webtoon-card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .webtoon-emoji {
            font-size: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 50%;
            color: white;
        }

        .favorite-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .favorite-btn:hover {
            background: var(--border);
        }

        .favorite-btn.active {
            color: #fbbf24;
        }

        .webtoon-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .webtoon-title:hover {
            color: var(--primary);
        }

        .webtoon-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .webtoon-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .btn-notes {
            width: 100%;
            padding: 10px;
            background: var(--info);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-notes:hover {
            background: #2563eb;
        }

        /* Profil */
        .profile-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            margin: 0 auto 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Admin */
        .admin-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .admin-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
        }

        .admin-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
            padding-bottom: 15px;
        }

        .admin-tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .admin-tab:hover {
            background: var(--border);
            color: var(--text-primary);
        }

        .admin-tab.active {
            background: var(--primary);
            color: white;
        }

        .btn-add, .btn-import, .btn-delete, .btn-sync {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 5px;
            transition: all 0.2s ease;
        }

        .btn-add {
            background: var(--success);
            color: white;
        }

        .btn-add:hover {
            background: #059669;
        }

        .btn-import {
            background: var(--info);
            color: white;
        }

        .btn-import:hover {
            background: #2563eb;
        }

        .btn-delete {
            background: var(--error);
            color: white;
        }

        .btn-delete:hover {
            background: #dc2626;
        }

        .btn-sync {
            background: var(--warning);
            color: white;
        }

        .btn-sync:hover {
            background: #d97706;
        }

        /* Modales */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal.hidden {
            display: none;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .btn-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 5px;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        .textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-family: inherit;
            resize: vertical;
        }

        .textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Chapitres */
        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-bottom: 30px;
        }

        .chapter-btn {
            width: 60px;
            height: 60px;
            border: 2px solid var(--border);
            background: var(--card-bg);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chapter-btn:hover {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .chapter-btn.read {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinning {
            animation: spin 1s linear infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .nav-tabs {
                justify-content: center;
            }

            .webtoons-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }

            .chapters-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            }

            .chapter-btn {
                width: 50px;
                height: 50px;
            }
        }

        /* √âtats vides */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .admin-tab-content.hidden {
            display: none;
        }

        .select-all-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
        }

        .admin-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .selection-counter {
            margin-left: auto;
            color: var(--primary);
            font-weight: bold;
        }

        .admin-webtoon-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }

        .admin-webtoon-item:hover {
            background: #f8fafc;
        }

        .admin-webtoon-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .admin-webtoon-info {
            flex: 1;
        }

        .admin-webtoon-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .admin-webtoon-details {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .admin-webtoon-actions {
            display: flex;
            gap: 10px;
        }

        .btn-edit {
            padding: 6px 12px;
            background: var(--info);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }

        .btn-edit:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <!-- Page de connexion -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <h1>üåü WEBTOON Tracer</h1>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" class="form-input" required placeholder="votre@email.com">
                </div>
                
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" class="form-input" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Se souvenir de moi</label>
                </div>
                
                <button type="submit" class="btn-primary">Se connecter</button>
                
                <div style="margin-top: 20px;">
                    <button type="button" id="createAccountBtn" class="btn-secondary" style="margin-bottom: 10px; width: 100%;">Cr√©er un compte</button>
                    <button type="button" id="forgotPasswordBtn" class="btn-link">Mot de passe oubli√© ?</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Dashboard principal -->
    <div id="dashboard" class="dashboard">
        <div class="container">
            <header class="header">
                <div class="header-content">
                    <div class="logo">üåü WEBTOON Tracer</div>
                    
                    <nav class="nav-tabs">
                        <button class="nav-tab active" data-tab="home">üè† Accueil</button>
                        <button class="nav-tab" data-tab="favorites">‚≠ê Mes favoris</button>
                        <button class="nav-tab" data-tab="profile">üë§ Mon espace</button>
                        <button class="nav-tab admin-tab hidden" data-tab="admin">‚öôÔ∏è Administration</button>
                    </nav>
                    
                    <div class="user-info">
                        <span id="userInfo">Utilisateur</span>
                        <button id="logoutBtn" class="btn-logout">D√©connexion</button>
                    </div>
                </div>
            </header>

            <!-- Onglet Accueil -->
            <div id="homeTab" class="tab-content">
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="Rechercher un webtoon...">
                        <button id="clearSearch" class="clear-search">‚úï</button>
                    </div>
                    <div id="searchResults" class="search-results"></div>
                </div>
                
                <div id="webtoonsGrid" class="webtoons-grid"></div>
            </div>

            <!-- Onglet Favoris -->
            <div id="favoritesTab" class="tab-content hidden">
                <h2 style="text-align: center; margin-bottom: 30px; font-size: 2rem; color: var(--primary);">‚≠ê Mes Favoris</h2>
                
                <div id="noFavorites" class="empty-state" style="display: none;">
                    <div class="empty-icon">‚≠ê</div>
                    <p>Aucun favori pour le moment. Ajoutez des webtoons √† vos favoris depuis l'accueil !</p>
                </div>
                
                <div id="favoritesGrid" class="webtoons-grid"></div>
            </div>

            <!-- Onglet Mon Espace (Profil) -->
            <div id="profileTab" class="tab-content hidden">
                <div class="profile-section">
                    <div class="profile-header">
                        <div class="profile-avatar">üë§</div>
                        <h2 id="profileEmail" style="font-size: 1.5rem; margin-bottom: 10px;">Utilisateur</h2>
                        <p style="color: var(--text-secondary);">Membre actif</p>
                        <div style="margin-top: 20px;">
                            <button onclick="app.switchTab('admin')" class="btn-add">‚öôÔ∏è Administration</button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div id="totalWebtoons" class="stat-number">0</div>
                            <div class="stat-label">Webtoons disponibles</div>
                        </div>
                        
                        <div class="stat-card">
                            <div id="favoriteCount" class="stat-number">0</div>
                            <div class="stat-label">Favoris</div>
                        </div>
                        
                        <div class="stat-card">
                            <div id="totalProgress" class="stat-number">0%</div>
                            <div class="stat-label">Progression totale</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Administration -->
            <div id="adminTab" class="tab-content hidden">
                <div class="admin-section">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h2 class="admin-title">‚öôÔ∏è Administration</h2>
                    </div>
                    
                    <div class="admin-tabs">
                        <button class="admin-tab active" data-admin-tab="webtoons">Gestion des Webtoons</button>
                        <button class="admin-tab" data-admin-tab="users">Gestion des Utilisateurs</button>
                    </div>
                    
                    <!-- Onglet Gestion Webtoons -->
                    <div id="adminWebtoonsTab" class="admin-tab-content">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <button id="addWebtoonBtn" class="btn-add">+ Ajouter un Webtoon</button>
                            <button id="importExcelBtn" class="btn-import">üìä Importer Excel</button>
                            <button id="deleteSelectedBtn" class="btn-delete">üóëÔ∏è Supprimer s√©lectionn√©s</button>
                            <button id="syncWebtoonsBtn" class="btn-sync">
                                <span class="sync-icon">üîÑ</span> Synchroniser
                            </button>
                        </div>
                        
                        <div id="syncMessage" class="hidden" style="text-align: center; padding: 20px; background: #f0f9ff; border-radius: 12px; margin-bottom: 20px; color: var(--text-primary);"></div>
                        
                        <div id="adminWebtoonsList" style="background: #f8fafc; padding: 20px; border-radius: 12px;">
                            <div class="select-all-container">
                                <input type="checkbox" id="selectAllCheckbox" class="admin-checkbox">
                                <label for="selectAllCheckbox" style="font-weight: 600;">Tout s√©lectionner</label>
                                <span id="selectionCounter" class="selection-counter">0 s√©lectionn√©(s)</span>
                            </div>
                            <div id="webtoonsAdminList"></div>
                        </div>
                    </div>
                    
                    <!-- Onglet Gestion Utilisateurs -->
                    <div id="adminUsersTab" class="admin-tab-content hidden">
                        <div style="margin-bottom: 20px;">
                            <h3 style="color: var(--primary); margin-bottom: 15px;">üë• Gestion des Utilisateurs</h3>
                            <p style="color: var(--text-secondary);">G√©rez les r√¥les et permissions des utilisateurs</p>
                        </div>
                        
                        <div id="usersList" style="background: #f8fafc; padding: 20px; border-radius: 12px;">
                            <div id="usersAdminList"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Notes -->
    <div id="notesModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">üìù Mes Notes</h3>
                <button id="closeNotesModal" class="btn-close">‚úï</button>
            </div>
            
            <div class="form-group">
                <label for="notesText">Notes personnelles :</label>
                <textarea id="notesText" class="textarea" placeholder="Ajoutez vos notes sur ce webtoon..."></textarea>
            </div>
            
            <div class="modal-actions">
                <button id="cancelNotes" class="btn-secondary">Annuler</button>
                <button id="saveNotes" class="btn-primary">Sauvegarder</button>
            </div>
        </div>
    </div>

    <!-- Modal Ajouter Webtoon -->
    <div id="addWebtoonModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ajouter un Webtoon</h3>
                <button id="closeAddModal" class="btn-close">‚úï</button>
            </div>
            
            <form id="addWebtoonForm">
                <div class="form-group">
                    <label for="newTitle">Titre</label>
                    <input type="text" id="newTitle" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="newAuthor">Auteur</label>
                    <input type="text" id="newAuthor" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="newGenre">Genre</label>
                    <input type="text" id="newGenre" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="newPlatform">Plateforme</label>
                    <input type="text" id="newPlatform" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="newStatus">Statut</label>
                    <select id="newStatus" class="form-input" required>
                        <option value="">S√©lectionner un statut</option>
                        <option value="En cours">En cours</option>
                        <option value="Termin√©">Termin√©</option>
                        <option value="En pause">En pause</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="newChapters">Nombre de chapitres</label>
                    <input type="number" id="newChapters" class="form-input" min="1" required>
                </div>
                
                <div class="form-group">
                    <label for="newRating">Note (0-100)</label>
                    <input type="number" id="newRating" class="form-input" min="0" max="100" required>
                </div>
                
                <div class="form-group">
                    <label for="newDescription">Description</label>
                    <textarea id="newDescription" class="textarea" placeholder="Description du webtoon..." required></textarea>
                </div>
                
                <div class="modal-actions">
                    <button type="button" id="cancelAdd" class="btn-secondary">Annuler</button>
                    <button type="submit" class="btn-primary">Ajouter</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Chapitres -->
    <div id="chaptersModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="chaptersModalTitle" class="modal-title">Chapitres</h3>
                <button id="closeChaptersModal" class="btn-close">‚úï</button>
            </div>
            
            <div id="chaptersGrid" class="chapters-grid"></div>
            
            <div id="progressInfo" style="text-align: center; padding: 20px; background: #f8fafc; border-radius: 10px; margin-top: 20px;">
                <div style="font-weight: bold; margin-bottom: 10px;">Progression</div>
                <div id="progressText"></div>
            </div>
        </div>
    </div>

    <!-- Input file cach√© pour Excel -->
    <input type="file" id="excelFileInput" accept=".xlsx,.xls" style="display: none;">

    <script>
        class WebtoonTracer {
            constructor() {
                this.currentUser = null;
                this.isAuthenticated = false;
                this.currentTab = 'home';
                this.currentAdminTab = 'webtoons';
                this.searchTerm = '';
                this.favorites = new Set();
                this.currentNotesWebtoonId = null;
                this.currentChaptersWebtoonId = null;
                
                // Utilisateurs de d√©monstration
                this.users = [
                    { id: 1, email: 'erisaudrey@gmail.com', password: 'password123', isAdmin: true },
                    { id: 2, email: 'admin@webtoontracer.com', password: 'admin123', isAdmin: true },
                    { id: 3, email: 'user@test.com', password: 'user123', isAdmin: false }
                ];

                // Base de donn√©es des webtoons
                this.webtoons = [
                    {
                        id: 1,
                        title: "Solo Leveling",
                        author: "Chugong",
                        genre: "Action, Fantasy",
                        platform: "Webtoon",
                        status: "Termin√©",
                        chapters: 179,
                        rating: 95,
                        description: "Un chasseur de rang E devient le plus puissant au monde.",
                        image: "‚öîÔ∏è"
                    },
                    {
                        id: 2,
                        title: "Tower of God",
                        author: "SIU",
                        genre: "Adventure, Fantasy",
                        platform: "Webtoon",
                        status: "En cours",
                        chapters: 500,
                        rating: 90,
                        description: "Bam escalade la myst√©rieuse Tour de Dieu pour retrouver Rachel.",
                        image: "üóº"
                    },
                    {
                        id: 3,
                        title: "The God of High School",
                        author: "Yongje Park",
                        genre: "Action, Martial Arts",
                        platform: "Webtoon",
                        status: "Termin√©",
                        chapters: 569,
                        rating: 88,
                        description: "Un tournoi d'arts martiaux r√©v√®le des pouvoirs divins.",
                        image: "ü•ä"
                    },
                    {
                        id: 4,
                        title: "Noblesse",
                        author: "Jeho Son",
                        genre: "Action, Supernatural",
                        platform: "Webtoon",
                        status: "Termin√©",
                        chapters: 544,
                        rating: 87,
                        description: "Un noble vampire se r√©veille dans le monde moderne.",
                        image: "üßõ"
                    },
                    {
                        id: 5,
                        title: "Unordinary",
                        author: "uru-chan",
                        genre: "Drama, Supernatural",
                        platform: "Webtoon",
                        status: "En cours",
                        chapters: 285,
                        rating: 85,
                        description: "Dans un monde de super-pouvoirs, John cache sa v√©ritable force.",
                        image: "‚ö°"
                    }
                ];

                this.init();
            }

            init() {
                this.setupEventListeners();
                this.loadFromStorage();
                this.checkAutoLogin();
                this.showPage();
            }

            checkAutoLogin() {
                const savedUser = localStorage.getItem('webtoon_user');
                const rememberMe = localStorage.getItem('webtoon_remember_me') === 'true';
                
                if (savedUser && rememberMe) {
                    try {
                        this.currentUser = JSON.parse(savedUser);
                        this.isAuthenticated = true;
                    } catch (e) {
                        localStorage.removeItem('webtoon_user');
                        localStorage.removeItem('webtoon_remember_me');
                    }
                }
            }

            showPage() {
                const loginPage = document.getElementById('loginPage');
                const dashboard = document.getElementById('dashboard');
                
                if (this.isAuthenticated) {
                    loginPage.style.display = 'none';
                    dashboard.classList.add('active');
                    this.setupDashboard();
                    this.switchTab(this.currentTab);
                } else {
                    loginPage.style.display = 'flex';
                    dashboard.classList.remove('active');
                }
            }

            setupEventListeners() {
                // Connexion
                const loginForm = document.getElementById('loginForm');
                const logoutBtn = document.getElementById('logoutBtn');
                const createAccountBtn = document.getElementById('createAccountBtn');
                const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');
                
                if (loginForm) {
                    loginForm.addEventListener('submit', (e) => this.handleLogin(e));
                }
                
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', () => this.handleLogout());
                }
                
                if (createAccountBtn) {
                    createAccountBtn.addEventListener('click', () => this.handleCreateAccount());
                }
                
                if (forgotPasswordBtn) {
                    forgotPasswordBtn.addEventListener('click', () => this.handleForgotPassword());
                }

                // Navigation
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        const tabName = e.currentTarget.dataset.tab;
                        this.switchTab(tabName);
                    });
                });

                // Onglets admin
                document.querySelectorAll('.admin-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        const tabName = e.currentTarget.dataset.adminTab;
                        this.switchAdminTab(tabName);
                    });
                });

                // Recherche
                const searchInput = document.getElementById('searchInput');
                const clearSearch = document.getElementById('clearSearch');
                
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.searchTerm = e.target.value.toLowerCase();
                        this.updateSearchResults();
                        this.renderWebtoons();
                    });
                }
                
                if (clearSearch) {
                    clearSearch.addEventListener('click', () => {
                        searchInput.value = '';
                        this.searchTerm = '';
                        this.updateSearchResults();
                        this.renderWebtoons();
                    });
                }

                // Modales
                this.setupModalEvents();
                
                // Admin
                this.setupAdminEvents();
            }

            setupModalEvents() {
                // Modal Notes
                const closeNotesModal = document.getElementById('closeNotesModal');
                const cancelNotes = document.getElementById('cancelNotes');
                const saveNotes = document.getElementById('saveNotes');
                
                if (closeNotesModal) {
                    closeNotesModal.addEventListener('click', () => this.closeNotesModal());
                }
                
                if (cancelNotes) {
                    cancelNotes.addEventListener('click', () => this.closeNotesModal());
                }
                
                if (saveNotes) {

                    saveNotes.addEventListener('click', () => this.saveNotes());
                }

                // Modal Chapitres
                const closeChaptersModal = document.getElementById('closeChaptersModal');
                if (closeChaptersModal) {
                    closeChaptersModal.addEventListener('click', () => this.closeChaptersModal());
                }

                // Modal Ajouter Webtoon
                const closeAddModal = document.getElementById('closeAddModal');
                const cancelAdd = document.getElementById('cancelAdd');
                const addWebtoonForm = document.getElementById('addWebtoonForm');
                
                if (closeAddModal) {
                    closeAddModal.addEventListener('click', () => this.closeAddModal());
                }
                
                if (cancelAdd) {
                    cancelAdd.addEventListener('click', () => this.closeAddModal());
                }
                
                if (addWebtoonForm) {
                    addWebtoonForm.addEventListener('submit', (e) => this.handleAddWebtoon(e));
                }
            }

            setupAdminEvents() {
                const addWebtoonBtn = document.getElementById('addWebtoonBtn');
                const importExcelBtn = document.getElementById('importExcelBtn');
                const deleteSelectedBtn = document.getElementById('deleteSelectedBtn');
                const syncWebtoonsBtn = document.getElementById('syncWebtoonsBtn');
                const selectAllCheckbox = document.getElementById('selectAllCheckbox');
                const excelFileInput = document.getElementById('excelFileInput');
                
                if (addWebtoonBtn) {
                    addWebtoonBtn.addEventListener('click', () => this.openAddModal());
                }
                
                if (importExcelBtn) {
                    importExcelBtn.addEventListener('click', () => {
                        if (excelFileInput) excelFileInput.click();
                    });
                }
                
                if (deleteSelectedBtn) {
                    deleteSelectedBtn.addEventListener('click', () => this.deleteSelectedWebtoons());
                }
                
                if (syncWebtoonsBtn) {
                    syncWebtoonsBtn.addEventListener('click', () => this.syncWebtoons());
                }
                
                if (selectAllCheckbox) {
                    selectAllCheckbox.addEventListener('change', (e) => this.toggleSelectAll(e));
                }
                
                if (excelFileInput) {
                    excelFileInput.addEventListener('change', (e) => this.handleExcelImport(e));
                }
            }

            loadFromStorage() {
                const savedFavorites = localStorage.getItem('webtoon_favorites');
                if (savedFavorites) {
                    this.favorites = new Set(JSON.parse(savedFavorites));
                }
                const savedNotes = localStorage.getItem('webtoon_notes');
                if (savedNotes) {
                    this.notes = JSON.parse(savedNotes);
                } else {
                    this.notes = {};
                }
            }

            saveToStorage() {
                localStorage.setItem('webtoon_favorites', JSON.stringify(Array.from(this.favorites)));
                if (this.notes) {
                    localStorage.setItem('webtoon_notes', JSON.stringify(this.notes));
                }
                if (this.currentUser && this.isAuthenticated) {
                    localStorage.setItem('webtoon_user', JSON.stringify(this.currentUser));
                    localStorage.setItem('webtoon_remember_me', document.getElementById('rememberMe').checked);
                }
            }

            handleLogin(e) {
                e.preventDefault();
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                const user = this.users.find(u => u.email === email && u.password === password);

                if (user) {
                    this.currentUser = user;
                    this.isAuthenticated = true;
                    this.showPage();
                    document.getElementById('userInfo').textContent = user.email;
                    document.querySelectorAll('.admin-tab').forEach(tab => {
                        tab.classList.toggle('hidden', !user.isAdmin);
                    });
                    this.saveToStorage();
                } else {
                    alert('Email ou mot de passe incorrect.');
                }
            }

            handleLogout() {
                this.currentUser = null;
                this.isAuthenticated = false;
                this.favorites.clear();
                this.notes = {};
                this.saveToStorage();
                this.showPage();
            }

            handleCreateAccount() {
                alert('Fonctionnalit√© de cr√©ation de compte non impl√©ment√©e dans cette d√©mo.');
            }

            handleForgotPassword() {
                alert('Fonctionnalit√© de r√©initialisation de mot de passe non impl√©ment√©e dans cette d√©mo.');
            }

            switchTab(tabName) {
                document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
                document.getElementById(`${tabName}Tab`).classList.remove('hidden');
                document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelector(`.nav-tab[data-tab="${tabName}"]`).classList.add('active');
                this.currentTab = tabName;

                if (tabName === 'home') this.renderWebtoons();
                if (tabName === 'favorites') this.renderFavorites();
                if (tabName === 'profile') this.updateProfileStats();
                if (tabName === 'admin') this.renderAdminContent();
            }

            switchAdminTab(tabName) {
                document.querySelectorAll('.admin-tab-content').forEach(tab => tab.classList.add('hidden'));
                document.getElementById(`admin${tabName.charAt(0).toUpperCase() + tabName.slice(1)}Tab`).classList.remove('hidden');
                document.querySelectorAll('.admin-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelector(`.admin-tab[data-admin-tab="${tabName}"]`).classList.add('active');
                this.currentAdminTab = tabName;

                if (tabName === 'webtoons') this.renderAdminWebtoons();
                if (tabName === 'users') this.renderAdminUsers();
            }

            updateSearchResults() {
                const results = this.webtoons.filter(webtoon =>
                    webtoon.title.toLowerCase().includes(this.searchTerm) ||
                    webtoon.author.toLowerCase().includes(this.searchTerm) ||
                    webtoon.genre.toLowerCase().includes(this.searchTerm)
                );
                const searchResults = document.getElementById('searchResults');
                if (searchResults) {
                    searchResults.textContent = `${results.length} r√©sultat(s) trouv√©(s)`;
                }
            }

            renderWebtoons() {
                const grid = document.getElementById('webtoonsGrid');
                if (!grid) return;

                grid.innerHTML = '';
                const filteredWebtoons = this.webtoons.filter(webtoon =>
                    webtoon.title.toLowerCase().includes(this.searchTerm) ||
                    webtoon.author.toLowerCase().includes(this.searchTerm) ||
                    webtoon.genre.toLowerCase().includes(this.searchTerm)
                );

                if (filteredWebtoons.length === 0) {
                    grid.innerHTML = '<div class="empty-state"><div class="empty-icon">üìö</div><p>Aucun webtoon trouv√©.</p></div>';
                    return;
                }

                filteredWebtoons.forEach(webtoon => {
                    const card = document.createElement('div');
                    card.className = 'webtoon-card';
                    card.innerHTML = `
                        <div class="card-header">
                            <div class="webtoon-emoji">${webtoon.image}</div>
                            <button class="favorite-btn ${this.favorites.has(webtoon.id) ? 'active' : ''}" data-id="${webtoon.id}">‚≠ê</button>
                        </div>
                        <h3 class="webtoon-title" data-id="${webtoon.id}">${webtoon.title}</h3>
                        <p class="webtoon-description">${webtoon.description}</p>
                        <div class="webtoon-details">
                            <div class="detail-item">üìÖ ${webtoon.status}</div>
                            <div class="detail-item">‚úçÔ∏è ${webtoon.author}</div>
                            <div class="detail-item">üé¨ ${webtoon.chapters} chap.</div>
                            <div class="detail-item">‚≠ê ${webtoon.rating}/100</div>
                        </div>
                        <button class="btn-notes" data-id="${webtoon.id}">üìù Notes</button>
                        <button class="btn-notes" data-id="${webtoon.id}" style="background: var(--success);">üìñ Chapitres</button>
                    `;
                    grid.appendChild(card);

                    const favoriteBtn = card.querySelector('.favorite-btn');
                    if (favoriteBtn) {
                        favoriteBtn.addEventListener('click', () => this.toggleFavorite(webtoon.id));
                    }

                    const title = card.querySelector('.webtoon-title');
                    if (title) {
                        title.addEventListener('click', () => this.openChaptersModal(webtoon.id, webtoon.title));
                    }

                    const notesBtn = card.querySelectorAll('.btn-notes')[0];
                    if (notesBtn) {
                        notesBtn.addEventListener('click', () => this.openNotesModal(webtoon.id));
                    }

                    const chaptersBtn = card.querySelectorAll('.btn-notes')[1];
                    if (chaptersBtn) {
                        chaptersBtn.addEventListener('click', () => this.openChaptersModal(webtoon.id, webtoon.title));
                    }
                });
            }

            renderFavorites() {
                const grid = document.getElementById('favoritesGrid');
                const noFavorites = document.getElementById('noFavorites');
                if (!grid || !noFavorites) return;

                const favoriteWebtoons = this.webtoons.filter(webtoon => this.favorites.has(webtoon.id));
                grid.innerHTML = '';
                noFavorites.style.display = favoriteWebtoons.length === 0 ? 'block' : 'none';

                favoriteWebtoons.forEach(webtoon => {
                    const card = document.createElement('div');
                    card.className = 'webtoon-card';
                    card.innerHTML = `
                        <div class="card-header">
                            <div class="webtoon-emoji">${webtoon.image}</div>
                            <button class="favorite-btn active" data-id="${webtoon.id}">‚≠ê</button>
                        </div>
                        <h3 class="webtoon-title" data-id="${webtoon.id}">${webtoon.title}</h3>
                        <p class="webtoon-description">${webtoon.description}</p>
                        <div class="webtoon-details">
                            <div class="detail-item">üìÖ ${webtoon.status}</div>
                            <div class="detail-item">‚úçÔ∏è ${webtoon.author}</div>
                            <div class="detail-item">üé¨ ${webtoon.chapters} chap.</div>
                            <div class="detail-item">‚≠ê ${webtoon.rating}/100</div>
                        </div>
                        <button class="btn-notes" data-id="${webtoon.id}">üìù Notes</button>
                        <button class="btn-notes" data-id="${webtoon.id}" style="background: var(--success);">üìñ Chapitres</button>
                    `;
                    grid.appendChild(card);

                    const favoriteBtn = card.querySelector('.favorite-btn');
                    if (favoriteBtn) {
                        favoriteBtn.addEventListener('click', () => this.toggleFavorite(webtoon.id));
                    }

                    const title = card.querySelector('.webtoon-title');
                    if (title) {
                        title.addEventListener('click', () => this.openChaptersModal(webtoon.id, webtoon.title));
                    }

                    const notesBtn = card.querySelectorAll('.btn-notes')[0];
                    if (notesBtn) {
                        notesBtn.addEventListener('click', () => this.openNotesModal(webtoon.id));
                    }

                    const chaptersBtn = card.querySelectorAll('.btn-notes')[1];
                    if (chaptersBtn) {
                        chaptersBtn.addEventListener('click', () => this.openChaptersModal(webtoon.id, webtoon.title));
                    }
                });
            }

            updateProfileStats() {
                const totalWebtoons = document.getElementById('totalWebtoons');
                const favoriteCount = document.getElementById('favoriteCount');
                const totalProgress = document.getElementById('totalProgress');
                const profileEmail = document.getElementById('profileEmail');

                if (totalWebtoons) totalWebtoons.textContent = this.webtoons.length;
                if (favoriteCount) favoriteCount.textContent = this.favorites.size;
                if (profileEmail) profileEmail.textContent = this.currentUser ? this.currentUser.email : 'Utilisateur';
                if (totalProgress) {
                    const totalChapters = this.webtoons.reduce((sum, w) => sum + w.chapters, 0);
                    const readChapters = this.webtoons.reduce((sum, w) => {
                        const read = localStorage.getItem(`webtoon_${w.id}_read`) || 0;
                        return sum + parseInt(read, 10);
                    }, 0);
                    totalProgress.textContent = totalChapters > 0 ? `${Math.round((readChapters / totalChapters) * 100)}%` : '0%';
                }
            }

            toggleFavorite(id) {
                if (this.favorites.has(id)) {
                    this.favorites.delete(id);
                } else {
                    this.favorites.add(id);
                }
                this.saveToStorage();
                this.renderWebtoons();
                this.renderFavorites();
            }

            openNotesModal(id) {
                this.currentNotesWebtoonId = id;
                const notesText = document.getElementById('notesText');
                const modal = document.getElementById('notesModal');
                if (notesText && modal) {
                    notesText.value = this.notes[id] || '';
                    modal.classList.remove('hidden');
                }
            }

            closeNotesModal() {
                const modal = document.getElementById('notesModal');
                if (modal) modal.classList.add('hidden');
            }

            saveNotes() {
                const notesText = document.getElementById('notesText');
                if (notesText && this.currentNotesWebtoonId) {
                    this.notes[this.currentNotesWebtoonId] = notesText.value;
                    this.saveToStorage();
                    this.closeNotesModal();
                }
            }

            openChaptersModal(id, title) {
                this.currentChaptersWebtoonId = id;
                const modal = document.getElementById('chaptersModal');
                const chaptersGrid = document.getElementById('chaptersGrid');
                const chaptersModalTitle = document.getElementById('chaptersModalTitle');
                const progressText = document.getElementById('progressText');
                if (modal && chaptersGrid && chaptersModalTitle && progressText) {
                    const webtoon = this.webtoons.find(w => w.id === id);
                    if (webtoon) {
                        chaptersModalTitle.textContent = `${title} - Chapitres`;
                        chaptersGrid.innerHTML = '';
                        for (let i = 1; i <= webtoon.chapters; i++) {
                            const btn = document.createElement('button');
                            btn.className = 'chapter-btn';
                            btn.textContent = i;
                            const read = localStorage.getItem(`webtoon_${id}_read`) || '';
                            if (read.split(',').includes(i.toString())) btn.classList.add('read');
                            btn.addEventListener('click', () => this.toggleChapterRead(id, i));
                            chaptersGrid.appendChild(btn);
                        }
                        const readChapters = (localStorage.getItem(`webtoon_${id}_read`) || '').split(',').filter(n => n).length;
                        progressText.textContent = `${Math.round((readChapters / webtoon.chapters) * 100)}% (${readChapters}/${webtoon.chapters})`;
                        modal.classList.remove('hidden');
                    }
                }
            }

            closeChaptersModal() {
                const modal = document.getElementById('chaptersModal');
                if (modal) modal.classList.add('hidden');
            }

            toggleChapterRead(id, chapter) {
                let readChapters = localStorage.getItem(`webtoon_${id}_read`) || '';
                const chaptersArray = readChapters ? readChapters.split(',') : [];
                const index = chaptersArray.indexOf(chapter.toString());
                if (index > -1) {
                    chaptersArray.splice(index, 1);
                } else {
                    chaptersArray.push(chapter);
                }
                localStorage.setItem(`webtoon_${id}_read`, chaptersArray.join(','));
                this.openChaptersModal(id, this.webtoons.find(w => w.id === id).title);
                this.updateProfileStats();
            }

            openAddModal() {
                const modal = document.getElementById('addWebtoonModal');
                if (modal) {
                    modal.classList.remove('hidden');
                    document.getElementById('addWebtoonForm').reset();
                }
            }

            closeAddModal() {
                const modal = document.getElementById('addWebtoonModal');
                if (modal) modal.classList.add('hidden');
            }

            handleAddWebtoon(e) {
                e.preventDefault();
                const newWebtoon = {
                    id: Date.now(), // ID unique bas√© sur le timestamp
                    title: document.getElementById('newTitle').value,
                    author: document.getElementById('newAuthor').value,
                    genre: document.getElementById('newGenre').value,
                    platform: document.getElementById('newPlatform').value,
                    status: document.getElementById('newStatus').value,
                    chapters: parseInt(document.getElementById('newChapters').value, 10),
                    rating: parseInt(document.getElementById('newRating').value, 10),
                    description: document.getElementById('newDescription').value,
                    image: "üìñ" // Ic√¥ne par d√©faut
                };
                this.webtoons.push(newWebtoon);
                this.closeAddModal();
                this.renderWebtoons();
                this.updateProfileStats();
            }

            renderAdminContent() {
                if (this.currentAdminTab === 'webtoons') this.renderAdminWebtoons();
                if (this.currentAdminTab === 'users') this.renderAdminUsers();
            }

            renderAdminWebtoons() {
                const list = document.getElementById('webtoonsAdminList');
                if (list) {
                    list.innerHTML = '';
                    this.webtoons.forEach(webtoon => {
                        const item = document.createElement('div');
                        item.className = 'admin-webtoon-item';
                        item.innerHTML = `
                            <input type="checkbox" class="admin-webtoon-checkbox" data-id="${webtoon.id}">
                            <div class="admin-webtoon-info">
                                <div class="admin-webtoon-title">${webtoon.title}</div>
                                <div class="admin-webtoon-details">Auteur: ${webtoon.author} | Chapitres: ${webtoon.chapters}</div>
                            </div>
                            <div class="admin-webtoon-actions">
                                <button class="btn-edit" data-id="${webtoon.id}">Modifier</button>
                            </div>
                        `;
                        list.appendChild(item);

                        const checkbox = item.querySelector('.admin-webtoon-checkbox');
                        if (checkbox) {
                            checkbox.addEventListener('change', () => this.updateSelectionCount());
                        }

                        const editBtn = item.querySelector('.btn-edit');
                        if (editBtn) {
                            editBtn.addEventListener('click', () => this.openEditModal(webtoon.id));
                        }
                    });
                    this.updateSelectionCount();
                }
            }

            renderAdminUsers() {
                const list = document.getElementById('usersAdminList');
                if (list) {
                    list.innerHTML = '';
                    this.users.forEach(user => {
                        const item = document.createElement('div');
                        item.className = 'admin-webtoon-item';
                        item.innerHTML = `
                            <input type="checkbox" class="admin-webtoon-checkbox" data-id="${user.id}">
                            <div class="admin-webtoon-info">
                                <div class="admin-webtoon-title">${user.email}</div>
                                <div class="admin-webtoon-details">R√¥le: ${user.isAdmin ? 'Admin' : 'Utilisateur'}</div>
                            </div>
                        `;
                        list.appendChild(item);

                        const checkbox = item.querySelector('.admin-webtoon-checkbox');
                        if (checkbox) {
                            checkbox.addEventListener('change', () => this.updateSelectionCount());
                        }
                    });
                    this.updateSelectionCount();
                }
            }

            updateSelectionCount() {
                const checkboxes = document.querySelectorAll('.admin-webtoon-checkbox:checked');
                const counter = document.getElementById('selectionCounter');
                if (counter) {
                    counter.textContent = `${checkboxes.length} s√©lectionn√©(s)`;
                }
            }

            toggleSelectAll(e) {
                const checkboxes = document.querySelectorAll('.admin-webtoon-checkbox');
                checkboxes.forEach(cb => cb.checked = e.target.checked);
                this.updateSelectionCount();
            }

            deleteSelectedWebtoons() {
                const checkboxes = document.querySelectorAll('.admin-webtoon-checkbox:checked');
                const idsToDelete = Array.from(checkboxes).map(cb => parseInt(cb.dataset.id, 10));
                this.webtoons = this.webtoons.filter(w => !idsToDelete.includes(w.id));
                this.renderAdminWebtoons();
                this.renderWebtoons();
                this.updateProfileStats();
            }

            syncWebtoons() {
                const syncMessage = document.getElementById('syncMessage');
                if (syncMessage) {
                    syncMessage.textContent = 'Synchronisation en cours...';
                    syncMessage.classList.remove('hidden');
                    syncMessage.classList.add('spinning');

                    // Simuler une synchronisation (remplace par une API r√©elle si n√©cessaire)
                    setTimeout(() => {
                        syncMessage.classList.remove('spinning');
                        syncMessage.textContent = 'Synchronisation termin√©e avec succ√®s !';
                        setTimeout(() => syncMessage.classList.add('hidden'), 2000);
                    }, 2000);
                }
            }

            handleExcelImport(e) {
                const file = e.target.files[0];
                if (file) {
                    alert('Importation Excel non impl√©ment√©e dans cette d√©mo. Veuillez utiliser un fichier .xlsx valide.');
                    e.target.value = ''; // R√©initialiser l'input
                }
            }

            openEditModal(id) {
                alert(`√âdition du webtoon avec ID ${id} non impl√©ment√©e dans cette d√©mo.`);
            }
        }

        // Initialisation de l'application
        const app = new WebtoonTracer();t
    </script>
</body>
</html>